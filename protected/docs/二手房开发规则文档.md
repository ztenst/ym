二手房协同开发约定文档
---------------------------------------------

# 标签相关

标签有两种。一种是直接式标签，比如“南北通透”这个标签就是直接式标签，是直接与房源数据进行关联，筛选的时候根据这个标签id去查找相关的房源；另一种是区间式标签，比如“50-100万”、“100-150平米”这些都是区间式标签，这种标签需要提供min和max值，筛选时会根据房源中的某个字段是否在min和max值内而得出筛选结果。

1. 价格区间筛选标签（区间式标签）

    1. 二手房住宅价格区间
    2. 二手房商铺价格区间
    3. 二手房写字楼价格区间
    4. 租房住宅价格区间
    5. 租房商铺价格区间
    6. 租房写字楼价格区间

共6种

2. 面积区间筛选标签（区间式标签）

    1. 二手房住宅面积区间
    2. 二手房商铺面积区间
    3. 二手房写字楼面积区间
    4. 租房住宅面积区间
    5. 租房商铺面积区间
    6. 租房写字楼面积区间

共6种

3. 户型筛选标签（区间式标签）

共1种

4. 具体类别标签（直接式标签。概念：具体类别标签指的是住宅、商铺、写字楼三大类下分别具体的一个建筑类别，比如说住宅这个大类，我是想要具体的小高层住宅，所以这个小高层被称为具体类别标签。只有二手房住宅、商铺、写字楼有具体类别标签，租房没有）

    1. 二手房住宅具体类别标签
    2. 二手房商铺具体类别标签
    3. 二手房写字楼具体类别标签

共3种

5. 特色标签（直接式标签）

    1. 二手房住特色标签
    2. 二手房商特色标签
    3. 二手房写字特色标签
    4. 租房住特色标签
    5. 租房商特色标签
    6. 租房写字特色标签

共6种

6. 配套标签（直接式标签）

    1. 租房住宅配套标签
    2. 租房商铺配套标签
    3. 租房写字楼配套标签
    4. 二手房住宅配套标签
    5. 二手房商铺配套标签
    6. 二手房写字楼配套标签

共6种

7. 租房方式（直接式标签，只有租房住宅有）

共1种

8. 房龄标签（区间式标签，只有二手房有，三种类别共用）

共1种

9. 朝向标签（直接式标签，二手房租房所有类别共用）

共1种

10. 楼层区间标签（区间式标签，二手房住宅、写字楼+租房住宅、写字楼共用）

共1种

11. 装修标签（直接式标签，二手房租房所有类别共用）

共1种

# 配置变量

单个房源刷新间隔时间{refreshInterval}（单位：分钟）

每天可上架条数{saleNum}（单位：条）

每天可预约数{appointNum}（单位：条）

可加急数{hurryNum}（单位：条）

上架展示时间{showDuration}（单位：天）

加急有效时间{hurryDuration}（单位：小时）

# 名词定义以及实现规则

### 刷新房源

定义：中介后台用户在列表页点击刷新按钮对指定房源进行刷新操作，更新刷新时间字段，使得房源在前台列表中的排序提升。

规则：单条房源{refreshInterval}分钟内只能进行一次刷新操作，即对单条房源相邻两次刷新操作需要控制在{refreshInterval}分钟以上。

### 预约刷新

定义：中介后台用户在列表页可对指定房源进行预约刷新，进入预约页面后，对指定房源设置定时刷新的时间点后保存。系统到时间会运行定时脚本对该房源更新刷新时间字段，从而代替用户人工刷新。

规则：一次预约过程中，预约一个房源在一个时间点刷新算作使用一个预约次数，两个房源在一个时间点刷新算作两条记录，两个房源在两个时间点刷新算作四条记录，若设置了持续天数则再乘上条数。依此类推，总结公式为：`本次使用的预约数=指定的房源数量*时间点个数*设置的天数`
当天可预约数用完后无法进行预约。

### 加急

定义：对房源进行加急操作，表示该房源想尽快出售或者出租。在前台列表页表示为加个标识。

规则：每条房源默认标准标注加急{hurryDuration}小时，{hurryDuration}小时后取消显示加急标注（可通过设置加急字段为加急到期时间来控制）。只可对上架房源加急，并且可加急条数{hurryNum}是统计的上架中的加急房源。


### 禁用

定义：小编后台对房源禁用后，中介后台用户不得对该房源进行上架操作，但可删除。

### 经纪人转店

定义：经纪人所绑定的商家id更换，可以是同一品牌商家内的转店（如万灵房产翠竹店转到了万灵房产钟楼店），也可以使不同品牌商家转店（如从万灵房产转到了万科房产）。转店后，房源跟着经纪人走，即不管经纪人转到哪个店，经纪人登录后台依旧能看到自己管理的房源。（也就是说，小编在后台帮经纪人更换商家时，这个经纪人所拥有的房源的商家id都要换成新的商家id）
